#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdint.h>
#include <fcntl.h>
#include <unistd.h>

#define FILENAME "student_records.dat"

struct record_s {
    char name[80];
    char address[80];
    uint8_t semester;
};

int main() {
    int fd;
    struct record_s records[10] = {
        {"Иванов Иван Иванович", "г. Москва, ул. Ленина, д. 1, кв. 10", 1},
        {"Петров Петр Петрович", "г. Санкт-Петербург, пр. Невский, д. 5, кв. 42", 2},
        {"Сидорова Анна Сергеевна", "г. Екатеринбург, ул. Мира, д. 17, кв. 89", 3},
        {"Козлова Мария Александровна", "г. Новосибирск, ул. Кирова, д. 25, кв. 15", 4},
        {"Смирнов Алексей Дмитриевич", "г. Казань, ул. Пушкина, д. 10, кв. 76", 5},
        {"Федоров Николай Андреевич", "г. Нижний Новгород, ул. Советская, д. 8, кв. 33", 6},
        {"Морозова Екатерина Ивановна", "г. Самара, ул. Гагарина, д. 12, кв. 51", 1},
        {"Волков Сергей Владимирович", "г. Омск, ул. Ленина, д. 7, кв. 22", 2},
        {"Лебедева Ольга Викторовна", "г. Ростов-на-Дону, ул. Космонавтов, д. 15, кв. 68", 3},
        {"Новиков Дмитрий Сергеевич", "г. Уфа, ул. Первомайская, д. 20, кв. 44", 4}
    };
    
    fd = open(FILENAME, O_WRONLY | O_CREAT | O_TRUNC, 0644);
    if (fd == -1) {
        perror("Failed to open file");
        exit(EXIT_FAILURE);
    }
    
    write(fd, records, sizeof(struct record_s) * 10);
    
    close(fd);
    printf("Создан файл %s с 10 начальными записями.\n", FILENAME);
    
    return 0;
}

